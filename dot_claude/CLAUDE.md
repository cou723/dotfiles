- 常に日本語で回答せよ
  - コミットメッセージは日本語を使用しなさい
- 推測するな計測せよ
  - 仮説の形成はよいですが、仮説を形成した場合はその精度を上げるためにその仮説の正確性について検証してください。
  - 検証方法の例
    - Web検索
    - 現在のコードベースのコード(ライブラリ内も込み)を読む
    - printデバッグ
  - 非推奨の行為
    - エラーメッセージからその該当箇所のコードのみを表面的に修正する
      - なぜそのエラーメッセージが起きたのか、又は類似のエラーが起きていないのかを意識してください。
- タスクの流れ
  - 修正案の計画
  - 修正
  - 変更が所が少なそうな個所に対してテストを書く
  - テストが通るように修正する
  - TypeCheck、Lint、FormatなどのCIを通す
  - 既存のTestが壊れていないか確認する
  - コミット
- コードを書くまで
  - コードを書くこと、自前設計することは基本的には悪です。なるべく避けましょう。
    - 解決するライブラリがないか
    - すでにインターネット上に修正コードがないか
    - 当該コードベースに使えるモジュール、パッケージがないか
    - 当該コードベースに参考にできるコードはないか
    - 上記すべてを検討してから大きなコードをは書くようにしてください。
- コーディングスタイル
  - 型安全性
    - 型安全なコードを意識しなさい
    - 型推論を活用しなさい
  - テスト
    - テストは最低限のテストを書きなさい。冗長なコードは理解に時間を要します
      - テストの保守もリソースが必要です。変更点が多くなると予想される個所や作りかけの箇所にはテストを書かないという選択肢もありますが、テストを書くよう明示された場合は必ず書きなさい
    - テストは以下の目的で書かれる
      - 既存の機能が壊れていないか
      - 現在の機能が想定通りに実装されているか
  - 例外
    - 型安全性に気を使ってください
      - 型安全にできない場合は具体的にどのようなエラーを返すのか、ドキュメントで明示しなさい
  - ドキュメント
    - ドキュメントはCLAUDE.mdもしくはAGENT.mdとし、機能の追加や変更をした際にはドキュメントが古い内容になっていないか**毎回**確認しなさい
  - TypeScript
    - 推奨ツール(明示されない限り以下のものを使用)
      - linter: biome.js
      - formatter: biome.js
      - package manager: pnpm
      - testing framework: vitest
    - 標準のDateの「メソッド」（データの構造体として使う分には問題ない）はタイムゾーン準拠で挙動が変わるため、非推奨です。date-fnsなどを使用せよ
  - Python
    - 推奨ツール
      - Package・Runtime Manager：UV
      - Linter：Ruff
      - TypeChecker：Mypy
    - Pipを使ったパッケージのインストールは基本非推奨です。`uv add`を使用しなさい
      - `uv add`によってインストールできないパッケージの場合はuv(venv)内部のPipを使用しなさい
    - 実行する際は必ず仮想環境のPythonを使用してください。ex:`uv run main.py`
- ドキュメント
  - ドキュメントは簡潔にかつ抽象的に
    - 具体例をあまり細かく書いてしまうと、すぐにコードベースから乖離、メンテナンスコストが増加し、メリット以上にデメリットが大きく
    - 具体例を書く場合も抽象的概念を先に書いてから例示として書け
  - Asciiアートを使った図は書いてはいけない
    - 全角文字の都合上、日本語が混ざる場合、Ascii アートは非推奨
    - どうしても書いたほうがわかりやすい場合は英語でのみ許可します
    - 図を書きたい場合はMarmaid図などのマークアップ言語を用いて書きなさい